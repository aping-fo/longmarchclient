{"version":3,"sources":["LimitPanel.js"],"names":["WXTool","require","GameManager","gameEnum","PopupTipsNode","httpReq","UIHelper","SignPanel","_this","cc","Class","extends","Component","properties","coin","default","type","Label","serializable","time","lbl_nick","lbl_rank","shop","Animation","rankListContent","Node","onGotoPk","getInstance","Chicken_CreateRoom","resp","chickenMode","roomId","shareToPlayTogether","myInfo","wxName","gameState","GAME_STATE","CHIKEN_MATCHING","director","loadScene","lauchOption","Chicken_ExitRoom","onGotoMall","node","active","play","onBack","onLoad","errorHandler","appearWithText","string","start","currentChickenLimit","showingLimit","lastChickenLimit","updateInfo","updateRankInfo","limitScore","day","Math","floor","chickenLimitTimeLeave","hour","SetImageFromUrl","find","getComponent","Sprite","iconUrl","from","to","Chicken_GET_LIMIT_RANK","Chicken_GET_LIMIT_RANK_LIST","datas","rankVOList","i","length","index","openId","id","score","nickName","avatarUrl","rankItems","children","item","instantiate","setParent","data","name","substr","getChildByName","getParent","ScrollView","scrollToTop","OnSign","event","show","result","isTodayLimitSigned","category","closeShop"],"mappings":"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","file":"LimitPanel.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["var WXTool = require(\"WXTool\");\r\nvar GameManager = require(\"GameManager\");\r\nvar gameEnum=require('GameEnum');\r\nvar PopupTipsNode = require(\"PopupTipsNode\");\r\nvar httpReq=require('HttpReq');\r\nvar UIHelper=require('UIHelper')\r\nvar SignPanel= require(\"SignPanel\");\r\nvar _this\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        coin: {\r\n            default: null,                                  \r\n            type: cc.Label, \r\n            serializable: true,   \r\n        },\r\n        time: {\r\n            default: null,                                  \r\n            type: cc.Label, \r\n            serializable: true,   \r\n        },\r\n        lbl_nick: {\r\n            default: null,                                  \r\n            type: cc.Label, \r\n            serializable: true,   \r\n        },\r\n        lbl_rank: {\r\n            default: null,                                  \r\n            type: cc.Label, \r\n            serializable: true,   \r\n        },\r\n        shop: {\r\n            default: null,                                  \r\n            type: cc.Animation, \r\n            serializable: true,   \r\n        },\r\n        \r\n        rankListContent: {\r\n            default: null,\r\n            type: cc.Node,\r\n            serializable: true,  \r\n        }\r\n\r\n    },\r\n    onGotoPk()\r\n    {\r\n        GameManager.getInstance().Chicken_CreateRoom(4,function(resp){\r\n            GameManager.getInstance().chickenMode=1;\r\n            var roomId=resp;\r\n            WXTool.getInstance().shareToPlayTogether(GameManager.getInstance().myInfo.wxName, roomId,function(){\r\n                GameManager.getInstance().gameState = gameEnum.GAME_STATE.CHIKEN_MATCHING;\r\n                cc.director.loadScene(\"game\", function(){\r\n            \r\n                });\r\n            },function()\r\n            {\r\n                GameManager.getInstance().lauchOption=null;\r\n                GameManager.getInstance().Chicken_ExitRoom(function (resp) {\r\n                })\r\n            }); \r\n        })\r\n               \r\n    },\r\n    onGotoMall()\r\n    {\r\n        // if(this.showingLimit != null)\r\n        // {\r\n        //     GameManager.getInstance().shopType=this.showingLimit.category;\r\n        //     cc.director.loadScene(\"shop\", function(){\r\n            \r\n        //     });\r\n        // }\r\n        // else\r\n        // {\r\n        //     PopupTipsNode.appearWithText('专场未开始')\r\n        // }\r\n        this.shop.node.active=true;\r\n        this.shop.play();\r\n      \r\n    },\r\n    onBack()\r\n    {\r\n        cc.director.loadScene(\"main\", function(){\r\n        \r\n        });\r\n    },\r\n    onLoad () {\r\n        _this=this;\r\n        this.shop.node.active=false;\r\n        httpReq.errorHandler['2054'+'_'+'1100']= function(){PopupTipsNode.appearWithText('专场未开始')};  \r\n        httpReq.errorHandler['1005'+'_'+'1100']= function(){PopupTipsNode.appearWithText('专场未开始')};  \r\n        httpReq.errorHandler['3003'+'_'+'1101']= function(){_this.lbl_rank.string=\"未进入排名\"}; \r\n    },\r\n\r\n    start () {\r\n        if(GameManager.getInstance().currentChickenLimit != null)\r\n        {\r\n            this.showingLimit=GameManager.getInstance().currentChickenLimit\r\n        }\r\n        else if(GameManager.getInstance().lastChickenLimit != null)\r\n        {\r\n            this.showingLimit=GameManager.getInstance().lastChickenLimit\r\n        }\r\n        this.updateInfo();\r\n        this.updateRankInfo();\r\n    },\r\n\r\n    updateInfo(){\r\n        this.coin.string = GameManager.getInstance().myInfo.limitScore;\r\n        if(GameManager.getInstance().currentChickenLimit != null)\r\n        {\r\n            var day=Math.floor(GameManager.getInstance().chickenLimitTimeLeave/1000/60/60/24);\r\n            var hour=Math.floor((GameManager.getInstance().chickenLimitTimeLeave-day*1000*60*60*24)/1000/60/60);\r\n            this.time.string=day+\"天\"+hour+\"小时\"\r\n        }\r\n        else\r\n        {\r\n            this.time.string=\"已结束\"\r\n        }\r\n        this.lbl_nick.string= GameManager.getInstance().myInfo.wxName;     \r\n        UIHelper.SetImageFromUrl(cc.find(\"player/frame/mask/icon\", this.node).getComponent(cc.Sprite), GameManager.getInstance().myInfo.iconUrl, true);\r\n    },\r\n    \r\n    updateRankInfo(){\r\n        var _this = this;\r\n        var from = 0;\r\n        var to = 50;\r\n        GameManager.getInstance().Chicken_GET_LIMIT_RANK(function(resp){\r\n            _this.lbl_rank.string=resp;\r\n        });\r\n        GameManager.getInstance().Chicken_GET_LIMIT_RANK_LIST(from, to, function(resp){\r\n            var datas = resp.rankVOList;\r\n            for(var i = 0; i < datas.length; i++){\r\n                datas[i].index = from + i;\r\n                datas[i].openId = datas[i].id;\r\n                datas[i].score = datas[i].score;\r\n                datas[i].nickName = datas[i].nickName;\r\n                datas[i].avatarUrl = datas[i].avatarUrl;\r\n            }\r\n            var rankItems = _this.rankListContent.children;\r\n\r\n            for(var i = 0; i < rankItems.length; i++){\r\n                rankItems[i].active = false;\r\n            }\r\n\r\n            for(var i = 0; i < datas.length; i++){\r\n                var item = null;\r\n\r\n                if(i >= rankItems.length){\r\n                    item = cc.instantiate(rankItems[0]);\r\n                    item.setParent(_this.rankListContent);\r\n                }else{\r\n                    item = rankItems[i];\r\n                }\r\n\r\n                item.active = true;\r\n        \r\n                var data = datas[i];\r\n                var name = data.nickName;\r\n                var avatarUrl = data.avatarUrl;\r\n        \r\n                if(name.length > 4){\r\n                    name = name.substr(0, 4) + \"……\";\r\n                }\r\n        \r\n                item.getChildByName(\"lb_name\").getComponent(cc.Label).string = name;\r\n                UIHelper.SetImageFromUrl(cc.find(\"avatar/img_avatar\", item).getComponent(cc.Sprite), avatarUrl, true);\r\n                \r\n                if(data.index + 1 == 1){\r\n                    item.getChildByName(\"first\").active     = true;\r\n                    item.getChildByName(\"second\").active    = false;\r\n                    item.getChildByName(\"third\").active     = false;\r\n                    item.getChildByName(\"lb_rank\").active   = false;\r\n                }else if(data.index + 1 == 2){\r\n                    item.getChildByName(\"first\").active     = false;\r\n                    item.getChildByName(\"second\").active    = true;\r\n                    item.getChildByName(\"third\").active     = false;\r\n                    item.getChildByName(\"lb_rank\").active   = false;\r\n                }else if(data.index + 1 == 3){\r\n                    item.getChildByName(\"first\").active     = false;\r\n                    item.getChildByName(\"second\").active    = false;\r\n                    item.getChildByName(\"third\").active     = true;\r\n                    item.getChildByName(\"lb_rank\").active   = false;\r\n                }else{\r\n                    item.getChildByName(\"first\").active     = false;\r\n                    item.getChildByName(\"second\").active    = false;\r\n                    item.getChildByName(\"third\").active     = false;\r\n                    item.getChildByName(\"lb_rank\").active   = true;\r\n                    if(data.index == -1){\r\n                        item.getChildByName(\"lb_rank\").getComponent(cc.Label).string = '无';\r\n                    }else{\r\n                        item.getChildByName(\"lb_rank\").getComponent(cc.Label).string = data.index + 1 + '';\r\n                    }\r\n                }\r\n                \r\n                if(item.getChildByName(\"lb_num\")){\r\n                    item.getChildByName(\"lb_num\").getComponent(cc.Label).string = data.score;\r\n                }\r\n            }\r\n            _this.rankListContent.getParent().getParent().getComponent(cc.ScrollView).scrollToTop();\r\n        });\r\n    },\r\n\r\n    OnSign(event)\r\n    {\r\n        if(GameManager.getInstance().currentChickenLimit != null)\r\n        {\r\n            SignPanel.show(80,function(result){   \r\n                GameManager.getInstance().myInfo.limitScore=result;\r\n                _this.coin.string = result;\r\n                GameManager.getInstance().myInfo.isTodayLimitSigned=true;\r\n            },!GameManager.getInstance().myInfo.isTodayLimitSigned,GameManager.getInstance().currentChickenLimit.category);\r\n        }\r\n      \r\n    },\r\n\r\n    closeShop()\r\n    {\r\n        this.shop.node.active=false;\r\n    }\r\n\r\n    // update (dt) {},\r\n});\r\n"]}