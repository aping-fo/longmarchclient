{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\models/assets\\scripts\\models\\HistoryQuestionModel.js"],"names":["GameManager","require","_this","HistoryQuestionModel","cc","Class","statics","instance","getInstance","ctor","properties","cacheCount","getDatas","callback","GetHistoryQuestions","resp","getImageUrl","str","getHistoryQuestionsUrl","urls","split","addImageUrl","url","length","shift","push","setHistoryQuestionsUrl","join"],"mappings":";;;;;;AAAA;;;;AAIA,IAAIA,cAAcC,QAAQ,aAAR,CAAlB;AACA,IAAIC,QAAQ,IAAZ;;AAEA,IAAIC,uBAAuBC,GAAGC,KAAH,CAAS;;AAEhCC,aAAS;AACLC,kBAAU,IADL;AAELC,qBAAa,uBAAY;AACrB,mBAAO,KAAKD,QAAL,KAAkB,KAAKA,QAAL,GAAgB,IAAIJ,oBAAJ,EAAlC,GAA+D,KAAKI,QAA3E;AACH;AAJI,KAFuB;;AAShCE,UAAM,gBAAY;AACdP,gBAAQ,IAAR;AACH,KAX+B;;AAahCQ,gBAAY;AACRC,oBAAY,CADJ,CACO;AADP,KAboB;;AAiBhCC,YAjBgC,oBAiBvBC,QAjBuB,EAiBd;AACdb,oBAAYQ,WAAZ,GAA0BM,mBAA1B,CAA8C,UAASC,IAAT,EAAc;AACxD,gBAAGF,QAAH,EAAY;AACRA,yBAASE,IAAT;AACH;AACJ,SAJD;AAKH,KAvB+B;AAyBhCC,eAzBgC,yBAyBlB;AACV,YAAIC,MAAMjB,YAAYQ,WAAZ,GAA0BU,sBAA1B,EAAV;AACA,YAAIC,OAAOF,IAAIG,KAAJ,CAAU,GAAV,CAAX;;AAEA,eAAOD,IAAP;AACH,KA9B+B;AAgChCE,eAhCgC,uBAgCpBC,GAhCoB,EAgChB;AACZ,YAAGA,OAAO,IAAP,IAAeA,IAAIC,MAAJ,IAAc,CAAhC,EAAkC;AAC9B;AACH;;AAED,YAAIN,MAAMjB,YAAYQ,WAAZ,GAA0BU,sBAA1B,EAAV;AACA,YAAIC,OAAOF,IAAIG,KAAJ,CAAU,GAAV,CAAX;;AAEA,YAAGD,KAAKI,MAAL,IAAe,KAAKZ,UAAvB,EAAkC;AAC9BQ,iBAAKK,KAAL;AACH;AACDL,aAAKM,IAAL,CAAUH,GAAV;;AAEAtB,oBAAYQ,WAAZ,GAA0BkB,sBAA1B,CAAiDP,KAAKQ,IAAL,CAAU,GAAV,CAAjD;AACH;AA9C+B,CAAT,CAA3B","file":"HistoryQuestionModel.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\models","sourcesContent":["/**\r\n * 历史题目数据类\r\n */\r\n\r\nvar GameManager = require(\"GameManager\");\r\nvar _this = null;\r\n\r\nvar HistoryQuestionModel = cc.Class({\r\n\r\n    statics: {\r\n        instance: null,\r\n        getInstance: function () {\r\n            return this.instance || (this.instance = new HistoryQuestionModel()), this.instance;\r\n        }\r\n    },\r\n\r\n    ctor: function () {\r\n        _this = this;\r\n    },\r\n\r\n    properties: {\r\n        cacheCount: 5, //缓存数量\r\n    },\r\n\r\n    getDatas(callback){\r\n        GameManager.getInstance().GetHistoryQuestions(function(resp){\r\n            if(callback){\r\n                callback(resp);\r\n            }\r\n        });\r\n    },\r\n\r\n    getImageUrl() {\r\n        var str = GameManager.getInstance().getHistoryQuestionsUrl();\r\n        var urls = str.split(\",\");\r\n\r\n        return urls;\r\n    },\r\n\r\n    addImageUrl(url){\r\n        if(url == null || url.length == 0){\r\n            return;\r\n        }\r\n        \r\n        var str = GameManager.getInstance().getHistoryQuestionsUrl();\r\n        var urls = str.split(\",\");\r\n\r\n        if(urls.length >= this.cacheCount){\r\n            urls.shift();\r\n        }\r\n        urls.push(url);\r\n\r\n        GameManager.getInstance().setHistoryQuestionsUrl(urls.join(','));\r\n    }\r\n});"]}